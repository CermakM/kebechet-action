name: 'Kebechet'
description: 'Action to trigger Kebechet repository manager.'
author: 'Marek Cermak'

inputs: 
  token:
    description: 'Kebechet GitHub API token'
    required: true
  ssh_key:
    description: 'Kebechet GitHub SSH private key (base64 encoded)'
    required: true
  config:
    description: 'Path to the Kebechet configuration file'
    default: '.thoth.yaml'
    required: true
runs:
  using: 'docker'
  image: 'docker://thothproj/kebechet:latest'
  args:
    - '${{ inputs.config }}'
  env:
    # Credentials
    KEBECHET_TOKEN: '${{ inputs.token }}'
    KEBECHET_SSH_PRIVATE_KEY: '${{ inputs.ssh_key }}'
    # Additional configuration
    KEBECHET_VERBOSE: '1'
